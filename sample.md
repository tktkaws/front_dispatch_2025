# ブログサイトのページネーション実装

## 目次
1. [基本設定](#1-基本設定)
2. [コンポーネント実装](#2-コンポーネント実装)
3. [ページ実装](#3-ページ実装)
4. [実装のポイント](#4-実装のポイント)

## 1. 基本設定

1ページあたりの表示件数を定数として設定します。

`src/app/_constants/index.ts`


## 2. コンポーネント実装

ページネーション機能を持つカードリストコンポーネントを実装します。

`src/app/component/CardList/index.tsx`


## 3. ページ実装

### 3.1 メインページ（1ページ目）

`src/app/page.tsx`


### 3.2 ページネーションページ

`src/app/page/[page]/page.tsx`


### 3.3 タグページのページネーション

`src/app/tags/[tagId]/page/[page]/page.tsx`


## 4. 実装のポイント

### 4.1 Client Component化
- `usePathname`を使用するため、CardListコンポーネントを"use client"ディレクティブで指定

### 4.2 非同期パラメータの処理
- Next.js 13以降では、動的ルートのパラメータは`Promise`として扱う
- `params`を`await`で解決してから使用

### 4.3 バリデーション
- ページ番号の不正な値をチェック
- データが存在しない場合は404を返す

### 4.4 条件付きページネーション
- 必要なpropsが揃っている場合のみページネーションを表示
- ブログ詳細ページの関連記事など、ページネーションが不要な場合は省略可能

### 4.5 URLパターン
- 通常のページネーション: `/page/[page]`
- タグページのページネーション: `/tags/[tagId]/page/[page]`
